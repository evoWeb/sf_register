class AllDocumentationMenu extends HTMLElement{MAINMENU_JSON_URL="https://docs.typo3.org/h/typo3/docs-homepage/main/en-us/mainmenu.json";constructor(){super(),this.mainButton=this.createMainButton("All documentation"),this.appendChild(this.mainButton),this.initializeDocumentationsData().then(()=>{this.setupComponent()})}async initializeDocumentationsData(){var e=this.getAttribute("data-override-url")||this.MAINMENU_JSON_URL,e=await fetch(e);e.ok?(e=await e.json(),this.data=e||[]):this.data=[]}setupComponent(){this.classList.add("all-documentations-menu"),this.tooltip=this.createTooltip(),this.appendChild(this.tooltip),this.popperInstance=null,this.mainButton.addEventListener("click",e=>{e.stopPropagation(),this.toggleTooltip()}),document.addEventListener("click",e=>{!this.tooltip.hasAttribute("data-show")||e.target?.closest(".all-documentations-menu-tooltip")||this.hideTooltip()})}createClassName(e){return"all-documentations-menu-"+e}createMainButton(e){var t=document.createElement("button"),e=(t.classList.add("btn","btn-light",this.createClassName("button")),t.innerHTML=e,document.createElement("i"));return e.classList.add("fa-solid","fa-bars"),t.prepend(e),t}createDocumentationCategoryHeader(e,t){let a;return t?(a=document.createElement("a")).setAttribute("href",t):a=document.createElement("div"),a.classList.add(this.createClassName("category-header")),a.innerHTML=e,a}createDocumentationVersionBadge(e){var t=document.createElement("a");return t.setAttribute("href",e.href),t.innerHTML=e.name,t}createDocumentationLink(e){var t=document.createElement("li"),a=document.createElement("a");if(a.setAttribute("href",e.href),a.innerHTML=e.name,t.appendChild(a),e.children&&e.children.length){var o=document.createElement("div");o.classList.add(this.createClassName("versions"));for(const n of e.children)o.appendChild(this.createDocumentationVersionBadge(n));t.appendChild(o)}return t}createDocumentationCategory(e){var t=document.createElement("div"),a=(t.classList.add("category"),this.createDocumentationCategoryHeader(e.name,e.href));if(t.appendChild(a),e.children&&e.children.length){var o=document.createElement("ul");o.classList.add(this.createClassName("documentations"));for(const n of e.children)o.appendChild(this.createDocumentationLink(n));t.appendChild(o)}return t}createTooltip(){var e=document.createElement("div"),t=(e.classList.add(this.createClassName("tooltip")),e.setAttribute("role","topoltip"),document.createElement("div")),a=(t.classList.add(this.createClassName("tooltip-arrow")),t.setAttribute("data-popper-arrow",""),e.appendChild(t),document.createElement("div"));a.classList.add(this.createClassName("categories"));for(const o of this.data)a.appendChild(this.createDocumentationCategory(o));return e.appendChild(a),e}toggleTooltip(){this.tooltip.hasAttribute("data-show")?this.hideTooltip():this.showTooltip()}showTooltip(){this.tooltip.setAttribute("data-show",""),this.popperInstance=Popper.createPopper(this.mainButton,this.tooltip,{placement:"bottom",modifiers:[{name:"arrow"},{name:"offset",options:{offset:[0,10]}}]})}hideTooltip(){this.tooltip.removeAttribute("data-show"),this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null)}}customElements.define("all-documentations-menu",AllDocumentationMenu),(()=>{const o="code-block-hide";if(navigator.clipboard||navigator.clipboard.writeText){const a=e=>{var t=e.querySelector(".code-block-copy-icon"),a=e.querySelector(".code-block-check-icon"),e=e.querySelector(".code-block-check-tooltip");t.classList.toggle(o),a.classList.toggle(o),e.classList.toggle(o)};[...document.querySelectorAll(".code-block-copy")].forEach(e=>{e.addEventListener("click",e=>{const t=e.target.closest(".code-block-wrapper");e=t.querySelector(".code-block");e?(navigator.clipboard.writeText(e.textContent),a(t),setTimeout(()=>{a(t)},3e3)):console.warn("Cannot copy code as no code block is available!")})})}else console.info('"navigator.clipboard.writeText" is not available. Update to a modern browser to copy code to the system\'s clipboard')})(),[].slice.call(document.querySelectorAll(".code-inline[aria-description]")).map(function(e){var t=e.getAttribute("aria-description"),a=e.getAttribute("aria-details");return new bootstrap.Popover(e,{title:a?t:"",content:a||t,trigger:"hover",placement:"bottom"})}),(()=>{function r(o){const n=o.querySelector("#general-alert-success");var e=o.querySelectorAll(".copy-button");navigator.clipboard&&navigator.clipboard.writeText?e.forEach(e=>{e.addEventListener("click",function(){var e,t,a=this.getAttribute("data-target"),a=o.querySelector("#"+a);a?(n.classList.remove("d-none"),n.innerHTML=`Snippet <code>${e=a.value,t=document.createElement("div"),t.textContent=e,t.innerHTML}</code> was copied to your clipboard.`,navigator.clipboard.writeText(a.value)):console.warn("Cannot copy link as no input is available!")})}):(console.info('"navigator.clipboard.writeText" is not available. Update to a modern browser to copy code to the system\'s clipboard'),e.forEach(e=>e.disabled=!0))}const i=document.querySelector("#generalModal");i.addEventListener("show.bs.modal",function(e){var t,a,o,n,e=e.relatedTarget;e.dataset.composername&&(a=i.querySelector("#generalModalLabel"),t=i.querySelector("#generalModalContent"),a.innerText=e.dataset.composername,r(i),t.innerHTML=`
        <p>${e.dataset.description}</p>
        <p>Install the package using Composer: </p>
        <div class="input-group">
            <textarea class="form-control code" id="composer-command" readonly>${e.dataset.composercommand}</textarea>
            <button type="button" class="btn btn-outline-secondary copy-button" data-target="composer-command"><i class="far fa-clone"></i></button>
        </div>
  `,a="",e.dataset.source&&(n="Source","github.com"===(o=new URL(e.dataset.source)).hostname&&(n="GitHub"),"gitlab.com"===o.hostname&&(n="GitLab"),a+=`<a class="btn btn-light" href="${e.dataset.source}">${n}</a>`),e.dataset.issues&&(a+=`<a class="btn btn-light" href="${e.dataset.issues}">Report issue</a>`),a&&(t.innerHTML+=`<div class="btn-group mt-2" role="group" aria-label="Links to GitHub / GitLab">${a}</div>`),(o=i.querySelector("#generalModalCustomButtons")).innerHTML=`
          <a href="${e.href}" class="btn btn-default"><i class="fa-solid fa-arrow-right"></i>&nbsp;Packagist</a>
      `,e.dataset.documentation&&(n="docs.typo3.org"!==new URL(e.dataset.documentation).hostname,o.innerHTML+=`
            <a href="${e.dataset.documentation}" class="btn btn-default">
                <i class="fa-solid fa-book"></i>&nbsp;Documentation ${n?"(external)":""}
            </a>
        `),e.dataset.homepage&&"extensions.typo3.org"===new URL(e.dataset.homepage).hostname&&(o.innerHTML+=`
            <a href="${e.dataset.homepage}" class="btn btn-default">
                <i class="fa-brands fa-typo3"></i>&nbsp;TER
            </a>
        `),r(i))})})(),(()=>{const l="#permalink-uri",c="#permalink-html";function d(o){const n=o.querySelector("#permalink-alert-success");var e=o.querySelectorAll(".copy-button");navigator.clipboard&&navigator.clipboard.writeText?e.forEach(e=>{e.addEventListener("click",function(){var e,t,a=this.getAttribute("data-target"),a=o.querySelector("#"+a);a?(n.classList.remove("d-none"),n.innerHTML=`Snippet <code>${e=a.value,t=document.createElement("div"),t.textContent=e,t.innerHTML}</code> was copied to your clipboard.`,navigator.clipboard.writeText(a.value)):console.warn("Cannot copy link as no input is available!")})}):(console.info('"navigator.clipboard.writeText" is not available. Update to a modern browser to copy code to the system\'s clipboard'),e.forEach(e=>e.disabled=!0))}const u=document.querySelector("#linkReferenceModal");u.addEventListener("show.bs.modal",function(e){var t,e=e.relatedTarget,a=e.closest("section"),o=e.dataset.id||(a?a.dataset.rstAnchor:null),n=e.closest("h1, h2, h3, h4, h5, h6, dt"),n=n?n.innerText:"",r=e.dataset.rstcode,e=e.title,i=(i=u,s=o||r,i=i.querySelector(".alert-permalink-rst"),s?i.classList.add("d-none"):i.classList.remove("d-none"),s=a,i=o,"null"===window.location.origin||"file://"===window.location.origin?null:i?""+window.location.origin+window.location.pathname+"#"+i:""+window.location.origin+window.location.pathname+"#"+(s?.id||"")),s=u.dataset.currentFilename,o=r||(r=u,a=a,t=n,o=o,s=s,r=r.dataset.interlinkShortcode||"somemanual",o?`:ref:\`${t} <${r}:${o}>\``:""===s?"":`:doc:\`${t} <${r}:${s}#${a?.id||""}>\``);t=u,r=n,s=i,a=o,(n=e)&&(t.querySelector("h5").innerHTML=n),null===s?(t.querySelector(l).value="",t.querySelector(c).value=""):(t.querySelector(l).value=s,t.querySelector(c).value=`<a href="${s}">${r}</a>`),n=t.querySelector("#permalink-rst"),s=n.closest("div"),""===a?s.classList.add("d-none"):(s.classList.remove("d-none"),n.value=a),d(u)})})(),(()=>{"use strict";function a(e){e.preventDefault();const t=e.currentTarget.parentElement.parentElement;e=t.parentElement.parentElement.querySelectorAll("li.active");Array.from(e).forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active")}var e;e=document.getElementsByClassName("main_menu"),Array.from(e).forEach(e=>{e=e.getElementsByTagName("a");Array.from(e).forEach(e=>{var t;e.nextSibling&&((t=document.createElement("span")).classList.add("toctree-expand"),t.addEventListener("click",a,!0),e.prepend(t))})})})(),window.addEventListener("load",()=>{var e,t,a=window.location.pathname.match(/^\/(c|m|p|h|other)\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-_]+\/[A-Za-z0-9\-.]+\/[A-Za-z0-9\-]+\/(Changelog\/[A-Za-z0-9\-.]+\/)?/),a=a?a[0]:null;a&&(e=document.getElementById("searchscope"),(t=document.createElement("option")).value=a,t.text="Search current",e.add(t))}),(()=>{"use strict";const e=Array.from(document.querySelectorAll('.nav-item > [role="tab"]'));function r(e){return e.innerHTML.trim()}document.addEventListener("shown.bs.tab",function(o){const n=r(o.target);e.filter(e=>{var t=r(e)===n,a=e===o.target,e="true"===e.getAttribute("aria-selected");return t&&!a&&!e}).forEach(e=>{new bootstrap.Tab(e).show()})})})(),(()=>{"use strict";const u="A_Default",p=1e5,n=document.getElementById("toc-version");function a(e,o){var t=document.createElement("dl"),n={"de-de":"German","de-at":"German (Austria)","de-ch":"German (Switzerland)","en-gb":"English","fr-fr":"French","ru-ru":"Russian"};if(n["en-us"]=u,"object"!=typeof o)console.log("AJAX version selector API: Request failed, no JSON returned."),e.innerHTML="<p>Versions unavailable.</p>";else{var r,i={currentfile:{},singlefile:{}};for(r in o){var s=o[r];let e=s.language,t=s.version;var l,c=n[e.toLocaleLowerCase()];c&&(e=c);let a="3_named";"main"===t?a="1_main":(c=t.trim(),l=parseFloat(c),isNaN(l)||Number(c)!==l||(t=t.split(".").map(e=>+e+p).join("."),a="2_numeric")),i.currentfile[e]||(i.currentfile[e]={},i.singlefile[e]={}),i.singlefile[e][a]||(i.currentfile[e][a]={},i.singlefile[e][a]={}),i.singlefile[e][a][t]||(i.currentfile[e][a][t]={},i.singlefile[e][a][t]={}),i.currentfile[e][a][t]=s.url,i.singlefile[e][a][t]=s.singleUrl}var a=function t(a){{if(null===a||"object"!=typeof a||Array.isArray(a))return a;{const o={},e=Object.keys(a).filter(e=>!isNaN(e)).sort((e,t)=>t-e),n=Object.keys(a).filter(e=>isNaN(e)).sort(),r=[...e,...n];return r.forEach(e=>{o[e]=t(a[e])}),o}}}(i),d="",d=(d+=m("currentfile",a))+m("singlefile",a);t.innerHTML=d,e.innerHTML="",e.appendChild(t)}}function m(t,a){let o="";for(var n in"singlefile"===t&&(o+="<dd><p><details><summary><strong>In one file:</strong></summary>"),a[t]){var e,r,i;for(i in n!=u&&(e=Object.keys(a[t][n])[0],r=Object.keys(a[t][n][e])[0],o+='<dd><strong><a href="'+a[t][n][e][r]+'">'+n+"</a></strong></dd>"),a[t][n])for(var s in a[t][n][i]){let e=s;"2_numeric"===i&&(e=s.split(".").map(e=>+e-p).join(".")),o+='<dd><a href="'+a[t][n][i][s]+'">'+e+"</a></dd>"}}return"singlefile"===t&&(o+="</details></p></dd>"),o}n&&n.addEventListener("click",function(){var e=document.getElementById("toc-version-wrapper");const t=document.getElementById("toc-version-options");e.classList.toggle("toc-version-wrapper-active"),t.dataset.ready||async function(){let e=document.URL,t="https://docs.typo3.org/services/versionsJson.php?url=";n.getAttribute("data-override-url-self")&&(e=n.getAttribute("data-override-url-self"),t=n.getAttribute("data-override-url-proxy"),console.log("AJAX version selector API: Developer mode enabled. Adjust data-override-url-self to simulate different menus. More information: https://docs.typo3.org/other/t3docs/render-guides/main/en-us/Developer/AjaxVersions.html"),console.log("Currently: "+e),console.log("The API PROXY is currently served from: "+t));var a=t+encodeURI(e);try{var o=await fetch(a);return o.ok?o.json():(console.log("AJAX version selector API: Request failure or empty response."),"")}catch(e){return console.log("AJAX version selector API: Request failed, likely CORS issue. Read the documentation to configure a proxy."),""}}().then(e=>{""===e&&(e="<p>No data available.</p>"),a(t,e),t.dataset.ready="true"})})})();